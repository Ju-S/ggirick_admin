<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="Job">
    <!-- 직원 직급 부여 - 신규 등록시 -->
    <insert id="insertEmployeeJob">
        INSERT INTO employee_job (id, employee_id, job_code)
        VALUES (
            employee_job_seq.NEXTVAL,
            #{emp_id},
            #{job_code}
        )
    </insert>



    <!-- 올해 마지막 사번 조회 -->
    <select id="getLastEmployeeId" parameterType="string" resultType="string">
        SELECT MAX(id)
        FROM EMPLOYEE
        WHERE SUBSTR(id, 3, 2) = #{yearSuffix}
    </select>
</mapper>